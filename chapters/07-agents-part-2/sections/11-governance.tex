% ============================================================================
% 11-governance.tex
% Q10: How Do We Keep the Agent Safe?
% Part of: Chapter 07 - Agents Part II: How to Build an Agent
% ============================================================================

\section{How Do We Keep the Agent Safe?}
\label{sec:agents2-governance}

% ----------------------------------------------------------------------------
% Opening: Q10 Framing and Organizational Analogy
% ----------------------------------------------------------------------------

Every professional organization has compliance programs, audit functions, and oversight structures. The law firm has conflicts committees, billing review, and quality control. The financial institution has risk management, compliance monitoring, and internal audit. These functions do not do the work themselves; they ensure the work is done safely, ethically, and in compliance with applicable rules.

Agentic systems require the same infrastructure. Governance is not a single question but a lens through which all other questions must be viewed. Every capability creates governance requirements. Every architectural choice enables or constrains oversight. This section previews governance across all ten questions; the following chapter provides comprehensive treatment.

\begin{definitionbox}[title={Agentic System Governance}]
\keyterm{Agentic system governance} encompasses the policies, controls, and oversight mechanisms that ensure agentic systems operate safely, ethically, and in compliance with applicable requirements. Governance spans the agentic system lifecycle: design, deployment, operation, and retirement.

Governance is not optional for regulated professional services. Professional duties are non-delegable: attorneys remain liable for AI-assisted work product, and fiduciaries remain accountable for AI-informed recommendations.
\end{definitionbox}

% ----------------------------------------------------------------------------
% Architecture Enables Governance
% ----------------------------------------------------------------------------

\subsection{Architecture Enables Governance}
\label{sec:agents2-arch-enables-gov}

The architectural choices throughout this chapter are not merely technical decisions. They are the \textit{infrastructure} that makes governance possible.

You cannot audit what you did not log. You cannot enforce privilege boundaries that were never implemented. You cannot demonstrate bounded operation without termination mechanisms. When a regulator asks how the compliance agent detected a breach, when opposing counsel demands production of the agent's reasoning, when a client questions why the agent recommended a particular strategy---architecture determines whether you can answer.

Professional duties are non-delegable: attorneys remain liable for AI-assisted work product, and fiduciaries remain accountable for AI-informed recommendations. The following chapter details those obligations. This chapter provides the architecture to meet them. \Cref{sec:agents2-conclusion-enables} provides a comprehensive mapping of architectural choices to governance implications.

% ----------------------------------------------------------------------------
% Ten-Question Governance Mapping
% ----------------------------------------------------------------------------

\subsection{Governance Requirements by Question}
\label{sec:agents2-governance-mapping}

Each of the ten questions creates specific governance requirements:

\begin{table}[htbp]
\centering
\caption{Ten-question governance mapping}
\label{tab:agents2-governance-mapping}
\small
\begin{tabular}{clp{6cm}}
\toprule
\textbf{Q} & \textbf{Question} & \textbf{Governance Requirement} \\
\midrule
1 & Triggers & Event authorization, audit logging of all triggers \\
2 & Intent & Purpose limitation, goal alignment verification \\
3 & Perception & Data governance, access controls, provenance tracking \\
4 & Action & Actuation controls, approval gates, rollback capability \\
5 & Memory & State integrity, retention policies, isolation enforcement \\
6 & Planning & Bounded operation, resource budgets, plan validation \\
7 & Termination & Exit protocols, success criteria, graceful degradation \\
8 & Escalation & Human oversight, escalation triggers, response tracking \\
9 & Delegation & Agent identity, delegation contracts, barrier enforcement \\
10 & Governance & Meta-governance, audit architecture, compliance monitoring \\
\bottomrule
\end{tabular}
\end{table}

% ----------------------------------------------------------------------------
% Security Essentials
% ----------------------------------------------------------------------------

\subsection{Security Essentials}
\label{sec:agents2-security-essentials}

Five security controls are essential for any agentic system deployment in regulated contexts:

\begin{keybox}[title={Security Controls for Regulated Practice}]
\begin{enumerate}[nosep]
\item \textbf{Input separation}: Isolate user inputs from system prompts to prevent prompt injection attacks

\item \textbf{Output validation}: Verify agent outputs before execution to detect hallucinations and constraint violations

\item \textbf{Least privilege}: Grant minimum necessary tool access to limit the scope and impact of failures

\item \textbf{Audit logging}: Maintain comprehensive action logs for accountability and investigation

\item \textbf{Matter/client isolation}: Enforce confidentiality boundaries to protect privileged and confidential information
\end{enumerate}
\end{keybox}

These controls map to the ten-question framework:

\begin{itemize}[nosep]
\item Input separation protects Q2 (Intent) from manipulation
\item Output validation governs Q4 (Action)
\item Least privilege limits Q3 (Perception) and Q4 (Action)
\item Audit logging enables Q7 (Termination) review and Q8 (Escalation) tracking
\item Matter/client isolation enforces Q5 (Memory) boundaries
\end{itemize}

% ----------------------------------------------------------------------------
% Transparency and Explainability
% ----------------------------------------------------------------------------

\subsection{Transparency and Explainability}
\label{sec:agents2-transparency-preview}

Regulators and clients increasingly require explanations for agentic system decisions. Four levels of transparency serve different audiences, illustrated here with a breach detection agentic system:

\textbf{Level 0 (Output only)}: Just the answer---``Suspicious transaction flagged.'' Sufficient for routine, low-stakes queries where the consumer trusts the system.

\textbf{Level 1 (Summary with sources)}: Conclusion plus citations---``Transaction \#45921 flagged; exceeds threshold in Rule 203(b)(1).'' Enables verification without full reasoning.

\textbf{Level 2 (Reasoning outline)}: Key analytical steps plus sources---``Flagged because: (1) \$150K exceeds \$100K threshold, (2) counterparty on watchlist, (3) timing matches known pattern.'' Appropriate for substantive work product requiring review.

\textbf{Level 3 (Execution trace)}: Structured record of tool calls, retrieved documents, and decision points---full database queries, rule evaluation steps, and confidence scores. Enables audit and debugging.

The architecture should capture Level 3 traces for all operations, then generate audience-appropriate summaries (Levels 0--2) on demand.

% ----------------------------------------------------------------------------
% Auditability vs. Retention
% ----------------------------------------------------------------------------

\subsection{Auditability vs. Retention}
\label{sec:agents2-retention-preview}

A tension exists between comprehensive logging (for audit) and data minimization (for privacy and compliance). The resolution is \textit{not} ``log everything forever.'' Instead:

\textbf{Structured logging}: Log structured decisions, not raw chain-of-thought. Structure enables selective retention.

\textbf{Tiered retention}: Short-term operational logs (full detail, days to weeks); medium-term audit logs (structured decisions, months to years); long-term compliance archives (minimal but sufficient, as required).

\textbf{Redaction at capture}: Apply privacy and confidentiality filters before logging, not after.

\textbf{Legal hold integration}: Retention schedules must yield to preservation obligations when litigation is anticipated.

The following chapter provides detailed retention frameworks for legal and financial contexts.

% ----------------------------------------------------------------------------
% Forward to Chapter 8
% ----------------------------------------------------------------------------

\subsection{Forward to Chapter 8}
\label{sec:agents2-forward-ch8}

This chapter answered \textit{how to build an agentic system}. The ten questions (Table~\ref{tab:agents2-governance-mapping}) provide architectural foundations; each creates governance requirements that the architecture must support.

The following chapter answers: \textit{how do we govern these systems?} It examines the five-layer governance stack (legal, model, system, process, culture), dimensional controls (autonomy, persistence, goal dynamics), accountability structures, regulatory compliance frameworks, and worked examples in legal, financial, and audit contexts.

Architecture provides the foundation; governance provides the controls. Together, they enable responsible deployment of agentic systems in regulated professional services.
