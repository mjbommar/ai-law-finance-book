% ============================================================================
% 05-action.tex
% Q4: How Does an Agent Make Things Happen?
% Part of: Chapter 07 - Agents Part II: How to Build an Agent
% ============================================================================

\section{How Does an Agent Make Things Happen?}
\label{sec:agents2-action}

% ----------------------------------------------------------------------------
% Opening: Q4 Framing and Organizational Analogy
% ----------------------------------------------------------------------------

A junior associate's job extends beyond research to producing work product. They draft memos, send emails, file documents, schedule meetings. A trader's job extends beyond analysis to execution. They enter orders, route trades, confirm allocations. The value comes from action, not just observation.

Agentic systems face the same imperative. An agent that only reads---searching databases, retrieving documents, analyzing information---produces no deliverable. To complete tasks, agents must \textit{act}: generate documents, send communications, update systems, execute transactions \parencite{schick2023toolformer}. Action implements the ``A'' in the GPA framework.

\begin{definitionbox}[title={Action Tools}]
\keyterm{Action tools} enable agents to change the state of external systems. Unlike perception tools (read-only), action tools \textit{write}: they file documents, send messages, execute trades, update databases. Once executed, some actions cannot be undone.

The distinction between perception and action is fundamental to governance. Perception risks include accessing wrong information or missing relevant data. Action risks include taking wrong actions that harm clients, violate regulations, or create liability.
\end{definitionbox}

% ----------------------------------------------------------------------------
% Action Tool Categories
% ----------------------------------------------------------------------------

\subsection{Action Tool Categories}
\label{sec:agents2-action-categories}

Action tools vary in consequence. The key dimension is \keyterm{reversibility}: can the action be undone if something goes wrong? Research on rollback-augmented systems demonstrates that selective state rollback can reduce catastrophic failures by 99.8\% in safety-sensitive environments \parencite{rollback-rl-2024}. Four categories of action tools illustrate the spectrum from easily undone to effectively permanent.

Communication tools send information to others and are partially reversible. Internal communications include emails to colleagues, messages in collaboration platforms, and updates to internal systems. You can follow up with corrections, but you cannot unsend. External communications like emails to clients, letters to opposing counsel, and regulatory notifications carry higher stakes because recipients are outside your control. Retractions are possible but create their own problems. Automated alerts such as system-generated notifications, compliance alerts, and deadline reminders are often templated with limited customization. From a governance perspective, internal communications may proceed with post-hoc review while external communications typically require pre-approval.

Document management tools create and organize work product and are largely reversible. Document creation covers drafting memos, generating reports, and producing analysis. The documents exist internally and can be revised before distribution. Document organization includes filing in management systems, tagging and categorizing, and maintaining matter files, all generally reversible through re-organization. Template application generates documents from templates, populates forms, and produces standard documents with low risk if templates are validated. Document creation is relatively low-risk because documents can be revised before external sharing, making validation before distribution the key control.

Filing and submission tools submit documents to external authorities and are largely irreversible. Court filings through CM/ECF \parencite{cmecf-system} or state systems become part of the public record once submitted. Amendments are possible but do not erase the original. Regulatory submissions through EDGAR \parencite{sec-edgar}, FINRA, and state regulatory systems are subject to regulatory requirements, and errors can trigger enforcement. Contract execution involves signature, execution, and delivery of binding agreements that create legal obligations which may be difficult or impossible to unwind. Filing and submission require mandatory pre-approval because the irreversibility demands human verification before execution.

Transaction execution tools execute binding transactions and are effectively irreversible or costly to reverse. Trade execution involves entering orders, executing trades, and confirming allocations. Once executed, trades settle and create positions; reversal requires offsetting trades at market prices. Payment processing covers wire transfers, payment initiation, and fund disbursements. Once sent, funds are gone, and recovery requires recipient cooperation. System updates such as modifying production databases, updating client records, and changing configurations may affect downstream systems and be complex to reverse. Transaction execution requires the strictest controls: multi-factor approval, segregation of duties, and real-time monitoring.

% ----------------------------------------------------------------------------
% The Reversibility Framework
% ----------------------------------------------------------------------------

\subsection{The Reversibility Framework}
\label{sec:agents2-reversibility}

\input{figures/fig-reversibility-spectrum}

Reversibility determines required oversight. Consider how you delegate to a junior associate across the reversibility spectrum.

For fully reversible actions like research and internal drafts, the associate works independently. If they make mistakes, you catch them in review. No external harm occurs. For partially reversible actions like internal communications and document organization, checkpoint review is appropriate. The associate completes work; you review before it affects others significantly. For largely irreversible actions like client communications and filings, pre-approval is required. The associate prepares; you approve before execution. For irreversible actions like trade execution and fund transfers, multi-party approval with controls is essential. Multiple people must verify before execution.

\begin{table}[htbp]
\centering
\caption{Action reversibility and required oversight}
\label{tab:agents2-reversibility}
\small
\begin{tabular}{p{0.20\textwidth}p{0.25\textwidth}p{0.22\textwidth}p{0.20\textwidth}}
\toprule
\textbf{Reversibility} & \textbf{Examples} & \textbf{Oversight} & \textbf{Recovery} \\
\midrule
Fully reversible & Research, internal drafts, calculations & Post-hoc review & Delete/revise \\
\midrule
Partially reversible & Internal emails, document filing, alerts & Checkpoint review & Correction/follow-up \\
\midrule
Largely irreversible & Client communications, court filings, regulatory submissions & Pre-approval required & Amendment/retraction (visible) \\
\midrule
Irreversible & Trade execution, wire transfers, contract execution & Multi-party approval & Offsetting transaction (costly) \\
\bottomrule
\end{tabular}
\end{table}

Agent governance should track reversibility. The architecture should enforce appropriate controls based on action classification.

% ----------------------------------------------------------------------------
% MCP Tools for Action
% ----------------------------------------------------------------------------

\subsection{MCP Tools and Prompts for Action}
\label{sec:agents2-mcp-action}

The Model Context Protocol defines two capability types relevant to action.

\keyterm{MCP Tools} are executable functions that may change state. Unlike Resources (read-only), Tools can create and modify documents, send communications, submit filings, execute transactions, and update external systems. Tool manifests should include risk metadata: reversibility classification, approval requirements, and audit requirements. This enables hosts to enforce appropriate controls.

\keyterm{MCP Prompts} are reusable templates for common tasks. For action tools, prompts encode standard operating procedures. Legal examples include contract review checklist prompts, due diligence workflow prompts, and filing preparation prompts. Financial examples include trade compliance check prompts, client onboarding prompts, and regulatory submission prompts. Prompts standardize action sequences, reducing variation and error. They are particularly valuable for high-stakes actions where consistency matters.

% ----------------------------------------------------------------------------
% Action Security
% ----------------------------------------------------------------------------

\subsection{Action Security}
\label{sec:agents2-action-security}

Every action interface is a potential security boundary. Actions access external systems, process inputs, and create real-world consequences.

All action tools must implement core security controls. Authentication verifies that the agent is who it claims to be through service accounts with strong credentials and no shared or default passwords. Authorization verifies that the agent has permission for the specific action through role-based access control and the principle of least privilege. Input validation rejects malformed or suspicious requests by validating all parameters before execution. Output confirmation requires explicit approval before high-stakes actions complete. Rate limiting caps action frequency to prevent runaway execution and escalates after repeated actions. Audit logging records every action with full context: agent identifier, action name, parameters, timestamp, result, and matter/client context.

Beyond these core controls, specific threats require targeted mitigations \parencite{owasp-llm-top10,agent-security-bench-2024}. Prompt injection through action parameters occurs when adversaries embed instructions in parameters the agent passes to action tools. Mitigation requires sanitizing all parameters, never passing raw user input directly to action interfaces, and validating parameter formats against strict schemas. Privilege escalation through tool chaining happens when an agent chains multiple tools to achieve capabilities no single tool grants. Mitigation requires analyzing tool combinations for escalation paths and requiring human approval for tool sequences that span security boundaries. Action replay involves capturing an action request and replaying it to re-execute the action. Mitigation requires implementing nonces or timestamps, rejecting duplicate requests, and maintaining action logs for detection.

% ----------------------------------------------------------------------------
% Approval Workflows
% ----------------------------------------------------------------------------

\subsection{Approval Workflows}
\label{sec:agents2-approval}

For non-reversible actions, the agent prepares and humans approve \parencite{human-ai-collaboration-2024}. Several patterns implement this division of responsibility.

The single approver pattern works for routine actions with clear approval authority. The agent completes preparation and presents to one designated approver. For example: the agent prepares a court filing, presents to the supervising attorney, the attorney reviews and approves, and the agent submits.

Multi-party approval is appropriate for high-stakes actions with significant financial or legal exposure. Multiple independent approvers must sign off. For example: the agent prepares a wire transfer, operations reviews amounts and accounts, compliance reviews purpose and restrictions, the manager provides final approval, and the agent executes.

Escalating approval adjusts approval authority based on transaction size or risk. Routine actions have lower approval thresholds while exceptional actions escalate to senior personnel. For example: trades under \$100K require desk manager approval, trades between \$100K and \$1M require senior trader approval, and trades over \$1M require CIO approval.

Effective approval requests include:

\begin{itemize}[nosep]
\item Clear description of the proposed action
\item Context: why is this action needed?
\item Risk assessment: what could go wrong?
\item Reversibility: can this be undone?
\item Supporting evidence: what analysis supports this action?
\item Deadline: when is approval needed?
\end{itemize}

The approver should be able to make an informed decision from the request alone, without needing to investigate further.

% ----------------------------------------------------------------------------
% Rate Limiting and Circuit Breakers
% ----------------------------------------------------------------------------

\subsection{Rate Limiting and Circuit Breakers}
\label{sec:agents2-circuit-breakers}

Agents can get stuck in action loops: submitting the same request repeatedly, sending multiple messages, attempting failed transactions again and again. Rate limiting and circuit breakers prevent runaway execution.

Rate limiting caps how many actions the agent can take per time period. Per-action limits might allow no more than 5 emails per minute or no more than 10 trades per hour. Per-matter limits might allow no more than 20 actions on any single matter per day without human review. Cost limits might cap transaction costs at \$1,000 per session. When limits are reached, the agent pauses and escalates instead of pressing forward.

Circuit breakers automatically stop execution when anomalies are detected. If the same action fails three times, the system stops and escalates rather than retrying indefinitely. If action rate suddenly spikes, the system pauses for review since the spike may indicate agent malfunction or compromise. If cumulative actions exceed daily limits, the system stops automatically, and resumption requires human authorization. Circuit breakers transform potential runaway failures into controlled pauses that allow human intervention.

% ----------------------------------------------------------------------------
% Evaluating Action Capabilities
% ----------------------------------------------------------------------------

\subsection{Evaluating Action Capabilities}
\label{sec:agents2-action-eval}

When evaluating agentic systems, assess action capabilities against several criteria.

Start with action inventory: what actions can the agent take? Map available action tools against workflow requirements. Check reversibility classification to verify that each action is properly classified and controls are appropriate to the reversibility level.

Review approval workflows to confirm that approval gates are implemented for non-reversible actions and that approvers receive sufficient information to make informed decisions. Verify security controls including authentication, authorization, and audit logging, and confirm that penetration tests have been conducted.

Check that rate limiting is in place and matches acceptable risk tolerances. Finally, assess rollback capability: what happens when actions fail? Recovery procedures should be documented and tested.

% ----------------------------------------------------------------------------
% Connection to Other Questions
% ----------------------------------------------------------------------------

\subsection{From Action to Governance}
\label{sec:agents2-action-governance}

Action tools are where agentic systems create real-world consequences. The governance implications are significant and different in kind from perception risks.

Perception risks, examined in the previous section, include accessing wrong or incomplete information. The agent reasons from bad data, but no external harm has occurred yet. Action risks include taking wrong actions that harm clients, violate regulations, or create liability. The consequences are external and may be irreversible.

This section introduced action control concepts at the architectural level: the reversibility framework, approval workflow patterns, and rate limiting mechanisms.

Within this chapter, \Cref{sec:agents2-escalation} examines when agents should \textit{not} act---recognizing situations that require human decision-making rather than autonomous execution. The interplay between action capability and escalation judgment is central to safe agent deployment. Beyond action, \Cref{sec:agents2-memory} addresses memory: how agents maintain context across sessions, learn from experience, and access institutional knowledge.
