% ============================================================================
% 02-triggers.tex
% Q1: How Does an Agent Know When It Has Work to Do?
% Part of: Chapter 07 - Agents Part II: How to Build an Agent
% ============================================================================

\section{How Does an Agent Know When It Has Work to Do?}
\label{sec:agents2-triggers}

% ----------------------------------------------------------------------------
% Opening: Q1 Framing and Organizational Analogy
% ----------------------------------------------------------------------------

Consider how work reaches a professional. A client calls with an urgent question, the court docket updates with a new filing, the calendar reminds you that a motion is due tomorrow, and a junior associate realizes an issue exceeds their expertise and brings it to your office. These four channels define how work enters your day: the phone, the inbox, the calendar, and escalation from colleagues.

Agentic systems operate in the same way. A system with tools, memory, and planning capabilities remains idle until work arrives; the architectural question is how tasks enter the system and what events trigger execution.

\begin{definitionbox}[title={Triggers}]
\keyterm{Triggers} are the events that start agent execution. In practice, a trigger might be a docket alert, a price crossing a threshold, a calendar deadline coming due, or an internal ``I can't proceed safely'' signal from the agent itself. Without a trigger, even a highly capable system sits idle.
\end{definitionbox}

\begin{definitionbox}[title={Channels}]
\keyterm{Channels} are how triggers reach the agent. In professional practice, four channels cover almost all work intake:

\textbf{External feeds}: The world pushes work to you (court filings, market data, regulatory updates).

\textbf{Human prompts}: People request work directly (chat, email, collaboration platforms).

\textbf{Scheduled jobs}: Time itself triggers execution (deadlines, periodic checks, end-of-day).

\textbf{Escalation events}: Internal signals that ask for human help (budget exhaustion, low confidence).
\end{definitionbox}

Before an agentic system can reason or act, it must first notice that work exists. Channels are the sensory apparatus of the system: the ways it becomes aware of its environment and the tasks it must accomplishâ€”just as a lawyer cannot respond to a motion they never received.

\input{figures/fig-trigger-channels}

% ----------------------------------------------------------------------------
% External Feeds
% ----------------------------------------------------------------------------

\subsection{External Feeds: The World Pushes Work to You}
\label{sec:agents2-external-feeds}

External feeds deliver events from systems outside the agentic system's direct control. The external system pushes notifications when events occur, much like receiving service of process rather than checking the courthouse daily to see if you have been sued.

\textbf{Legal and Regulatory Feeds}: Court docket systems (CM/ECF, state e-filing) send notifications when documents are filed; an agentic system receives these alerts, retrieves filed documents via PACER, analyzes contents, and triggers appropriate responses. The SEC's EDGAR system publishes corporate filings with programmatic access, enabling agentic systems to monitor competitors' 10-Ks and flag material differences from your company's disclosures. Regulatory agencies publish through the Federal Register and agency websites. Citator alerts from Westlaw and Lexis notify when monitored cases are cited or overruled.

\textbf{Financial Market Feeds}: Financial institutions receive real-time market data through Bloomberg, Reuters, and similar providers. A portfolio management agentic system subscribes to price alerts, receives notifications when thresholds are crossed, evaluates rebalancing rules, and either executes trades within risk limits or escalates to a portfolio manager. Position and P\&L updates cascade through financial systems: trades trigger position updates, which trigger risk recalculation, compliance checks, and dashboard updates. News feeds deliver headlines, earnings, and sentiment analytics; agentic systems assess materiality and alert managers when news appears significant.

\begin{highlightbox}[title={Speed vs. Reasoning: A Critical Distinction}]
Market data arrives at millisecond granularity. LLM-based reasoning operates at second-to-minute timescales. This fundamental mismatch determines where agentic systems add value in financial workflows.

\textbf{Agentic systems are not suited for:} High-frequency trading, market-making, latency-sensitive execution. These domains require deterministic algorithms operating at microsecond latencies. An LLM reasoning loop, even a fast one, cannot compete.

\textbf{Agentic systems are suited for:} Strategic portfolio decisions, investment thesis development, rebalancing analysis, compliance monitoring, research synthesis. These tasks operate on timescales of minutes to hours, where reasoning quality matters more than latency.

\textbf{The architecture pattern:} Fast deterministic systems handle real-time data capture and threshold detection. When thresholds trigger (position approaching limit, price target hit, anomaly detected), they generate events that agentic systems process. The agentic system's role is strategic reasoning and recommendation, not execution speed. This complements latency-sensitive pipelines: keep the microsecond path deterministic, hand off to the agentic system only once an alert is raised.

Match agentic system capabilities to task requirements. Speed-critical tasks need traditional algorithms; reasoning-critical tasks need agentic systems.
\end{highlightbox}

\textbf{Integration Patterns}: External feeds reach agentic systems through \keyterm{webhooks} (HTTP callbacks for immediate notification) or \keyterm{message queues} (durable event streams with delivery guarantees). Webhooks work well for low-volume, time-sensitive events where immediate delivery matters and occasional missed events are acceptable. Message queues provide ordering, durability, and replay capabilities essential for regulated applications requiring audit trails. In practice, many systems use both: a portfolio management system might use webhooks to receive immediate notification when a stock price crosses a stop-loss threshold, while using message queues to process daily trade confirmations that require guaranteed delivery and audit logging.

% ----------------------------------------------------------------------------
% Human Prompts as Events
% ----------------------------------------------------------------------------

\subsection{Human Prompts as Events}
\label{sec:agents2-human-events}

Human prompts feel different from external feeds because they are interactive and synchronous. However, at the architectural level a human prompt is still just another event type: the user generates an event, the agentic system receives it through a channel, processes it, and responds. Treating prompts this way simplifies design, because all events can flow through common routing and prioritization logic rather than requiring separate code paths for ``chat'' versus ``background'' work.

\textbf{Chat interfaces} are the most direct channel. The associate types ``Find Fifth Circuit authority on personal jurisdiction for e-commerce defendants,'' the agentic system searches and presents summaries, and the associate follows up with refinements. The analyst asks for revenue growth comparisons across portfolio companies, receives a table, and requests additional filtering. Chat enables iterative clarification while maintaining architectural consistency: each message is simply an event processed through the standard loop, with tighter latency expectations than background tasks.

\textbf{Email routing} enables agentic systems to process work arriving through existing communication channels. A general counsel forwards a business unit's compliance question to a monitored mailbox; the agentic system extracts the question, searches relevant guidance, and emails back an assessment. The challenge is intent classification: email bodies are unstructured and may include forwarded threads with multiple topics.

\textbf{Collaboration platforms} like Slack and Teams allow agentic systems to appear as team members. Users @mention the system in channels, send direct messages, or use slash commands. The litigation team discussing strategy can invoke research directly in their coordination channel. Security requires authorization checks at the system layer, since collaboration platforms may log responses and channels may include unauthorized viewers.

\textbf{Voice interfaces} work best for short, urgent requests where typing is impractical. They introduce transcription errors (legal jargon like ``Chevron deference'' may transcribe incorrectly) and authentication challenges. High-stakes voice requests should require explicit confirmation before execution.

% ----------------------------------------------------------------------------
% Scheduled Jobs
% ----------------------------------------------------------------------------

\subsection{Scheduled Jobs: Time as Trigger}
\label{sec:agents2-scheduled}

Some work follows predictable schedules rather than arriving from external events or human prompts: end-of-day reconciliation, monthly compliance reporting, quarterly reviews, annual filings. For these recurring tasks, time itself triggers execution.

\textbf{Calendar-driven deadlines} govern legal practice. Answer the complaint within 21 days. File motions 30 days before hearings. Respond to discovery within 30 days. Agentic systems can monitor litigation calendars, calculate deadlines accounting for court holidays, schedule reminders as deadlines approach, and escalate if work remains incomplete. Sophisticated deadline systems go further, retrieving the complaint, extracting claims, generating draft answers with standard defenses, and presenting drafts for attorney review before filing. Financial institutions face similar deadline-driven work, from SEC reporting deadlines to tax filings to contractual obligations to lenders.

\textbf{Periodic compliance checks} run even when no external event triggers review. An investment compliance agentic system runs nightly to check portfolios against client guidelines and flag violations. A law firm conflicts system retrieves new docket entries, extracts party names, and checks them against the conflicts database. These scheduled checks enable continuous monitoring that would be impractical manually across thousands of matters or client accounts.

\textbf{End-of-day workflows} in financial institutions reconcile trades, calculate valuations at market close, generate P\&L reports, and prepare risk reports for the next morning. At market close, an EOD agentic system retrieves final prices, marks positions to market, calculates P\&L, and identifies unexplained variances. The system then distributes reports to stakeholders. If any step fails, the system escalates rather than proceeding with incomplete data. Law firms run similar periodic workflows, reminding attorneys to enter time, generating draft invoices at month-end, and flagging anomalies for partner review.

% ----------------------------------------------------------------------------
% Escalation Events (Brief - Full Treatment in Section 09)
% ----------------------------------------------------------------------------

\subsection{Escalation Events: When Agents Reach Their Limits}
\label{sec:agents2-escalation-brief}

The previous three channel types bring work into the agentic system from outside. Escalation events operate internally: the agentic system generates an event signaling it has reached a limit and requires human intervention, transferring control to human decision-makers when the system cannot proceed autonomously.

Four escalation triggers appear most frequently:

\textbf{Budget exhaustion}: The agentic system approaches resource limits (token consumption, iteration counts, time limits, or cost caps) and must decide whether to stop or request additional budget.

\textbf{Low confidence}: Uncertainty is too high for autonomous action. Conflicting authority, novel situations, or results that seem implausible warrant human review.

\textbf{Approval requirements}: Certain actions require explicit human authorization regardless of the system's confidence: filing court documents, sending client communications, executing large trades.

\textbf{Errors and anomalies}: Tools fail repeatedly, data is inconsistent, or the agentic system detects red flags that require human investigation. \Cref{sec:agents2-escalation} addresses when and how agentic systems should escalate to humans.

% ----------------------------------------------------------------------------
% Surfaces: Interaction Modalities
% ----------------------------------------------------------------------------

\subsection{Surfaces: How Users Experience Agentic Systems}
\label{sec:agents2-surfaces}

A \keyterm{surface} is the interaction modality through which users encounter an agentic system. The same underlying capabilities---intent understanding, tool use, memory, planning---can manifest through radically different user experiences. Usability researcher Jakob Nielsen argues that generative AI represents the first new user interface paradigm in sixty years: a shift from \textit{command-based interaction} (telling the computer what to do) to \textit{intent-based outcome specification} (telling the computer what you want). But intent-based systems still require interfaces, and those interfaces shape how effectively users can express intent and consume results.

\begin{definitionbox}[title={Interaction Surfaces}]
An \keyterm{interaction surface} is the user-facing modality through which humans engage with an agentic system. Surfaces differ along several dimensions:

\textbf{Synchronicity}: Does the user wait for results (synchronous) or receive them later (asynchronous)?

\textbf{Initiative}: Does the user initiate interaction (pull) or does the system (push)?

\textbf{Embodiment}: Is the system a visible participant (chat avatar) or invisible infrastructure (background automation)?

\textbf{Output format}: Does the system produce conversation turns, structured documents, or actions in the world?

The same agentic capabilities can be exposed through different surfaces for different use cases.
\end{definitionbox}

Three primary surfaces dominate current deployments, each suited to different task types and user contexts:

\textbf{Conversational surfaces} present the agentic system as an interactive dialogue partner. The user types or speaks; the system responds; the user refines. This is the paradigm of ChatGPT, Claude, and embedded copilots. Conversational surfaces excel at \textit{exploratory tasks} where the user refines direction through iteration: the partner thinking through case strategy, the analyst exploring market scenarios, the associate researching an unfamiliar area of law. The interaction is synchronous and user-initiated.

Conversational surfaces have limitations. They require users to articulate intent in natural language---what Nielsen calls the ``articulation barrier.'' They lack the affordances of graphical interfaces: no menus to browse, no buttons to discover capabilities. And they demand attention; the user must remain engaged throughout the interaction.

\textbf{Automation surfaces} present the agentic system as invisible infrastructure. The system monitors, analyzes, and acts in the background; users receive outputs only when relevant. Portfolio surveillance that alerts when positions breach limits. Docket monitoring that flags new filings in active matters. Compliance systems that screen transactions against sanctions lists. The interaction is asynchronous and system-initiated.

Automation surfaces suit \textit{monitoring tasks} where continuous human attention is impractical. A compliance officer cannot manually review every transaction; a litigator cannot check every docket daily. The agentic system handles the routine case, surfacing only exceptions that require human judgment. The user experience is defined by what \textit{doesn't} happen: no alert means no problem.

\textbf{Document surfaces} present the agentic system as a drafting assistant that produces structured work products. Research memos, due diligence reports, contract summaries, client presentations. The user specifies requirements; the system produces a document; the user reviews, edits, and distributes. The interaction is asynchronous (the system works while the user does other things) but user-initiated.

Document surfaces suit \textit{production tasks} with defined deliverables. The associate needs a memo for the partner's review. The analyst needs a report for the investment committee. The output format matters: not a chat transcript, but a polished document that can be filed, sent to clients, or presented to regulators.

\begin{highlightbox}[title={Matching Surface to Task}]
Surface selection is a design decision, not a technical constraint. The same agentic architecture can expose multiple surfaces:

\begin{itemize}[nosep]
\item \textbf{Chat} for ad hoc queries and exploratory thinking
\item \textbf{Automation} for continuous monitoring and alerting
\item \textbf{Document generation} for formal deliverables
\end{itemize}

Many deployments combine all three. A litigation support system might offer chat for research queries, automation for docket alerts, and document generation for motion drafts. The underlying intent understanding, tool use, and reasoning remain constant; only the interaction modality changes.

When evaluating or designing agentic systems, ask: which surface fits this workflow? Forcing conversational interaction onto monitoring tasks wastes user attention. Forcing document output onto exploratory tasks prevents iterative refinement.
\end{highlightbox}

\textbf{Emerging surfaces} extend beyond these three patterns. \textit{Embedded copilots} integrate agentic capabilities directly into existing applications---AI assistance within Word, Excel, or domain-specific software---combining familiar graphical interfaces with intent-based interaction. \textit{Ambient interfaces} use voice or environmental sensors to enable hands-free interaction, though transcription errors and authentication challenges limit high-stakes applications. \textit{Agentic APIs} expose capabilities to other software systems rather than human users, enabling machine-to-machine orchestration.

% ----------------------------------------------------------------------------
% Evaluating Trigger Systems
% ----------------------------------------------------------------------------

\subsection{Evaluating Trigger Systems}
\label{sec:agents2-evaluating-triggers}

When evaluating agentic systems, whether building or buying, assess trigger capabilities against five criteria:

\textbf{Coverage}: Does the system receive events from all relevant sources? A litigation agentic system that monitors CM/ECF but not state court dockets has incomplete coverage.

\textbf{Latency}: How quickly do events reach the agentic system? Real-time market data requires sub-second delivery; docket alerts can tolerate minutes.

\textbf{Reliability}: What happens when feeds fail? Systems need retry logic, fallback sources, and alerting when data goes stale.

\textbf{Priority mechanisms}: Can the system distinguish urgent from routine? During a market crash or litigation crisis, the right events must reach the right handlers immediately.

\textbf{Auditability}: Is every trigger logged? When a regulator asks why the agentic system took action, you need a complete record of the triggering event. The following chapter---\textit{How to Govern an Agent}---addresses audit requirements, regulatory compliance frameworks, and governance controls.

% ----------------------------------------------------------------------------
% Connection to Other Questions
% ----------------------------------------------------------------------------

\subsection{From Triggers to Action}
\label{sec:agents2-triggers-to-action}

Triggers answer how work reaches the agentic system, but triggering is only the beginning. Once an event arrives, the agentic system must:

\begin{itemize}[nosep]
\item \textbf{Understand intent}: What is being asked?
\item \textbf{Perceive information}: What does the system need to know?
\item \textbf{Take action}: What should the system do?
\item \textbf{Remember context}: What should persist across sessions?
\item \textbf{Plan execution}: How should work be decomposed?
\item \textbf{Recognize completion}: When is the task done?
\item \textbf{Escalate when needed}: When should humans intervene?
\end{itemize}

The connection between questions is direct. An external feed delivers a court filing notification. The router classifies it as urgent litigation work and dispatches to the litigation agentic system. The system retrieves case context from memory, downloads the filed document through PACER, analyzes content, searches for responsive authority, generates deadline calculations, and drafts a response strategy. At each step, the system might escalate: low confidence in legal analysis triggers escalation to a senior litigator; filing a responsive document requires approval; approaching budget limits prompts a status update.

\Cref{sec:agents2-intent} examines the next question: once work arrives, how does the agentic system understand what's being asked?
