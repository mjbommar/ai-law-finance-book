% ============================================================================
% Core Architecture â€” Agents Part II (Build)
% Purpose: Reference architecture for legal agents; tools, memory, planning
% Label prefix: sec:agents2-architecture
% ============================================================================

\section{Reference Architecture and Core Components}
\label{sec:agents2-architecture}

This section presents a vendor-neutral reference architecture for legal agents mapped to Part I's capability levels. It focuses on three pillars: tool invocation, memory/state, and planning/control.

\subsection{Tools and Function Calling}
\label{sec:agents2-tools}
Design tools with schemas that capture both functionality and governance metadata (data class, audit flags, jurisdictional constraints). Expose deterministic JSON-compatible interfaces and log every invocation.

\subsection{Memory and State Management}
\label{sec:agents2-memory}
Combine short-term conversational state with persistent case/project memory. Enforce privilege boundaries and retention policies; prefer content-addressed storage for provenance.

\subsection{Planning, Reasoning, and Control}
\label{sec:agents2-planning}
Adopt planning patterns (react, plan-act-observe, graph/workflow) appropriate to task risk. Separate deliberation traces from user-facing output; instrument escalation triggers for low confidence.

